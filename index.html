<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Local Chat</title>
</head>
<body>
    <div id="chat-box"></div>
    <input type="text" id="message-input" placeholder="Type your message...">
    <button id="send-button">Send</button>

    <script>
        var ws = new WebSocket("ws://localhost:8080");

        ws.onmessage = function(event) {
            console.log('Received: ', event.data);
            var messageData = JSON.parse(event.data);
            var messageBox = document.getElementById("chat-box");
            messageBox.innerHTML += "<strong>" + messageData.username + ":</strong> " + messageData.message + "<br>";
        };

        document.getElementById("send-button").addEventListener("click", function() {
            var messageInput = document.getElementById("message-input");
            var message = messageInput.value.trim();
            if (message !== "") {
                var messageData = {
                    username: "anonymous",
                    message: message
                };
                ws.send(JSON.stringify(messageData));
                messageInput.value = "";
            }
        });
    </script>
</body>
</html>
